# Blockscout Backend Environment Configuration for XAI
# Copy this to ~/blockscout/.env on the server

# ===========================================
# DATABASE CONFIGURATION
# ===========================================
DATABASE_URL=postgresql://blockscout:CHANGE_THIS_PASSWORD@localhost:5432/blockscout

# ===========================================
# ETHEREUM JSON-RPC (Points to RPC Adapter)
# ===========================================
ETHEREUM_JSONRPC_HTTP_URL=http://127.0.0.1:8545
ETHEREUM_JSONRPC_TRACE_URL=http://127.0.0.1:8545
ETHEREUM_JSONRPC_WS_URL=ws://127.0.0.1:8545/ws
ETHEREUM_JSONRPC_VARIANT=geth

# ===========================================
# CHAIN CONFIGURATION
# ===========================================
CHAIN_ID=1337
COIN=XAI
COIN_NAME=XAI
NETWORK=XAI Testnet
SUBNETWORK=MVP Testnet

# ===========================================
# INDEXER SETTINGS
# ===========================================
# Disable features not supported by XAI MVP
DISABLE_REALTIME_INDEXER=false
DISABLE_CATCHUP_INDEXER=false
TRACE_FIRST_BLOCK=0
INDEXER_DISABLE_PENDING_TRANSACTIONS_FETCHER=true
INDEXER_DISABLE_INTERNAL_TRANSACTIONS_FETCHER=true
INDEXER_DISABLE_TOKEN_INSTANCE_REALTIME_FETCHER=true
INDEXER_DISABLE_TOKEN_INSTANCE_RETRY_FETCHER=true
INDEXER_DISABLE_TOKEN_INSTANCE_SANITIZE_FETCHER=true
INDEXER_DISABLE_CATALOGED_TOKEN_UPDATER_FETCHER=true

# Block fetcher settings
INDEXER_CATCHUP_BLOCKS_BATCH_SIZE=10
INDEXER_CATCHUP_BLOCKS_CONCURRENCY=10
INDEXER_REALTIME_BLOCK_MAX_GAP=1000

# ===========================================
# API SETTINGS
# ===========================================
API_V2_ENABLED=true
ENABLE_SOURCIFY_INTEGRATION=false
DISABLE_KNOWN_TOKENS=true
DISABLE_BRIDGE_MARKET_CAP_UPDATER=true
DISABLE_TOKEN_INSTANCE_FETCHER=true

# Rate limiting
API_RATE_LIMIT=50
API_RATE_LIMIT_BY_IP=50
API_RATE_LIMIT_BY_KEY=50

# ===========================================
# DISPLAY & UI
# ===========================================
LOGO=/images/xai-logo.svg
LOGO_FOOTER=/images/xai-logo-footer.svg
SHOW_PRICE_CHART=false
SHOW_TXS_CHART=true
ENABLE_TXS_STATS=true
DISPLAY_TOKEN_ICONS=false

# Disable ads
SHOW_MAINTENANCE_ALERT=false
MAINTENANCE_ALERT_MESSAGE=

# ===========================================
# SERVER SETTINGS
# ===========================================
PORT=4000
SECRET_KEY_BASE=GENERATE_WITH_mix_phx.gen.secret

# ===========================================
# EXTERNAL SERVICES (Disabled for XAI)
# ===========================================
EXCHANGE_RATES_SOURCE=
EXCHANGE_RATES_FETCH_INTERVAL_IN_MINUTES=0
COINGECKO_COIN_ID=
COINGECKO_API_KEY=

# ===========================================
# CACHING
# ===========================================
CACHE_ADDRESS_SUM_PERIOD=3600
CACHE_ADDRESS_TOKEN_TRANSFERS_COUNTER_PERIOD=1800
CACHE_ADDRESS_TRANSACTIONS_COUNTER_PERIOD=1800
CACHE_BLOCK_COUNT_PERIOD=7200
CACHE_TXS_COUNT_PERIOD=7200

# ===========================================
# MISC
# ===========================================
HEALTHY_BLOCKS_PERIOD=30
HISTORY_FETCH_INTERVAL=30
TXS_HISTORIAN_INIT_LAG=0
TXS_STATS_DAYS_TO_COMPILE_AT_INIT=10
